schema: '2.0'
stages:
  train:
    cmd: ./build/virtualenv/bin/python src/train.py
    deps:
    - path: ./data/processed/test.csv
      md5: eac391f705cc77ea63bc2bdbba2de79c
      size: 171904
    - path: ./data/processed/train.csv
      md5: 512caa781567ed847b3ef13174e11c90
      size: 265769
    - path: src/train.py
      md5: a450a299d8910c60df317b059293a50b
      size: 2105
    params:
      params.yaml:
        train:
          kernel: rbf
          reg_param: 1.0
          poly_degree: 3
    outs:
    - path: ./models/label_encoder.pk
      md5: 039a2d2ccc3b355739528232912e4a51
      size: 255
    - path: ./results/test_preds.csv
      md5: 80e595090e95a7ab193bbf454ab1253b
      size: 13334
    - path: ./results/train_preds.csv
      md5: 263e55658bb98f858b11a906c43fb933
      size: 20551
  clean_data:
    cmd: ./build/virtualenv/bin/python src/process_data.py
    deps:
    - path: ./data/raw/SPAM text message 20170820 - Data.csv
      md5: 4566fe81ccd7961063e393a99e8ec2f1
      size: 485702
    - path: src/process_data.py
      md5: c458f135285a5cf6d23596aa5f8d3eba
      size: 605
    outs:
    - path: ./data/processed/spam_data.csv
      md5: eee15aac82d82a827923651764e84c9d
      size: 437656
  train_test_split:
    cmd: ./build/virtualenv/bin/python src/train_test_split.py
    deps:
    - path: ./data/processed/spam_data.csv
      md5: eee15aac82d82a827923651764e84c9d
      size: 437656
    - path: src/train_test_split.py
      md5: 8f3fa3afa5a3fa5b5707dfac1b626e68
      size: 972
    params:
      params.yaml:
        train_test_split:
          test_prop: 0.4
          random_state: 1337
    outs:
    - path: ./data/processed/test.csv
      md5: eac391f705cc77ea63bc2bdbba2de79c
      size: 171904
    - path: ./data/processed/train.csv
      md5: 512caa781567ed847b3ef13174e11c90
      size: 265769
